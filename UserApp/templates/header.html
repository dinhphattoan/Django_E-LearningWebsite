<nav class="navbar navbar-expand-sm bg-primary" data-bs-theme="dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="{% url 'default_view' %}">Python Forge</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
    <div class="collapse navbar-collapse" id="navbarColor01">
      <ul class="navbar-nav me-auto">
        <li class="nav-item">
          <a class="nav-link active" href="{% url 'Courses' %}">
            Courses
            <span class="visually-hidden">(current)</span>
          </a>
        </li>
      </ul>
      <form class="d-flex">
        <input id="inputsearch" class="form-control me-sm-2" type="search" placeholder="Search" autocomplete=""/>
        <button id="searchbtn" class="btn btn-secondary" type="submit">Search</button>
        {% if request.user.is_authenticated %}
          <a class="btn-success btn ms-1 me-1" href="{% url 'admin:index' %}">{{ request.user.username }}</a>
          <a class="btn-secondary btn ms-1 me-1" href="{% url 'logout' %}">Logout</a>
        {% else %}
        <a class="btn-success btn ms-1 me-1" href="{% url 'login' %}">Login</a>
          <a class="btn-secondary btn ms-1 me-1" href="{% url 'signup' %}">SignUp</a>
        {% endif %}
      </form>
    </div>
  </div>
</nav>
 <div id="searchToast" hidden class="toast hiding position-absolute"
              style="top: 30rem;left:20rem;" role="alert" aria-live="assertive"
              aria-atomic="true">
              <div id="searchDiv" class="toast-body">
                <a href class="card m-1"
                  style="text-decoration: none;width:20rem;height:5rem;">
                  <div class="d-flex flex-row">
                    <img class="img" style="width: 8rem; height: 5rem;">
                    <div class="overflow-auto mx-auto ms-1 "
                      style="height:5rem;width:11rem;">
                      <b> Lập trình web với Python bằng Django</b>
                    </div>
                  </div>
                </a>

              </div>
  </div>
  
{% block javascripts %}

<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>
     // Function to update position
     function updateSearchToastPosition() {
      var myElement = $('#inputsearch');
      var offset = myElement.offset();
  
      $('#searchToast').css({
          'top': offset.top + myElement.outerHeight(),
          'left': offset.left
      });
  }
    
    // Initial position setup
    $(document).ready(function () {
        updateSearchToastPosition();
        $('#searchToast').show();
    });
    
    // Trigger on screen resize
    $(window).resize(function () {
        updateSearchToastPosition();
    });
    $('#searchbtn').on('submit',function(){
      $('#inputsearch').focus();
      $.ajax({
        type: 'GET',
        url: "{% url 'ajax_searchcourse' strSearch=0 %}".replace('0', $('#inputsearch').val()),
        data: {
            csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val()
        },
        success: function(data) {
            if (data == "") {
                
            }
            else {

            }
        }
    });
    })
    $('#inputsearch').on('focus',function(){
      $('#searchToast').attr('hidden', false);
    })
    $('#inputsearch').on('blur', function() {
      // Your logic or actions when the input loses focus
     $('#searchToast').attr('hidden', true);
    })
</script>
{% endblock %}